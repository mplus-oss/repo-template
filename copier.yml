_subdirectory: src
_min_copier_version: "9"

_tasks:
  - python3 hooks/flatten.py
  - python3 hooks/cleanup.py
  - git init -q

project_name:
  type: str
  help: Set the project name

project_description:
  type: str
  help: Set the project description

base_app:
  type: str
  help: Set the tech stack for the project
  multiselect: true
  choices:
    "Base Python App": python
    "JavaScript/TypeScript": js
    "Odoo Modules": odoo
    "Jinja2 Templates": jinja2

# -------------------------
# JavaScript Configurations
js_runtime:
  type: str
  when: "{{ base_app | select('in', ['js']) | list | length > 0 }}"
  help: "JavaScript: Set the JavaScript runtime"
  default: node
  multiselect: true
  choices:
    "Node.js": node
    "Bun": bun
    "Browser": browser

_js_prototools:
  type: bool
  when: "{{ 'browser' in js_runtime | not }}"
  default: true

js_nodejs_version:
  type: str
  when: "{{ 'node' in js_runtime }}"
  help: "JavaScript: Set the Node.js version"
  default: "24.12.0"

js_bun_version:
  type: str
  when: "{{ 'bun' in js_runtime }}"
  help: "JavaScript: Set the Bun version"
  default: "1.3.5"

# ---------------------
# Python Configurations
python_target_version:
  type: str
  when: "{{ base_app | select('in', ['python', 'odoo']) | list | length > 0 }}"
  help: "Python: Set the target Python version"
  default: "3.12"

# -------------------
# Odoo Configurations
odoo_author:
  type: str
  when: "{{ 'odoo' in base_app }}"
  help: "Odoo: Set the author name for Odoo modules"
  default: Mplus Software

odoo_version:
  type: int
  when: "{{ 'odoo' in base_app }}"
  help: "Odoo: Set the Odoo version (without point)"
  default: 19
